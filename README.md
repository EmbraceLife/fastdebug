fastdebug
================

<!-- WARNING: THIS FILE WAS AUTOGENERATED! DO NOT EDIT! -->

``` python
from IPython.display import display, HTML
```

``` python
display(HTML("<style>.container { width:100% !important; }</style>"))
```

<style>.container { width:100% !important; }</style>

## References I use when I explore

### fastai style

What is the fastai coding
[style](https://docs.fast.ai/dev/style.html#style-guide)

How to do [abbreviation](https://docs.fast.ai/dev/abbr.html) the fastai
way

A great example of how fastai libraries can make life more
[comfortable](https://www.fast.ai/2019/08/06/delegation/)

## What is the motivation behind `fastdebug` library?

Please let me show you with a simple example here.

``` python
# import fastdebug
from fastdebug.utils import *
import fastdebug.utils as fu
from fastcore.test import *
import inspect
```

``` python
import fastcore.meta as fm
```

``` python
whatinside(fm, dun=True)
```

    fastcore.meta has: 
    13 items in its __all__, and 
    43 user defined functions, 
    19 classes or class objects, 
    2 builtin funcs and methods, and
    74 callables.

    ['test_sig',
     'FixSigMeta',
     'PrePostInitMeta',
     'AutoInit',
     'NewChkMeta',
     'BypassNewMeta',
     'empty2none',
     'anno_dict',
     'use_kwargs_dict',
     'use_kwargs',
     'delegates',
     'method',
     'funcs_kwargs']

As this is the first time you see `whainside`, you probably will run
`whatinside?` to know how to use it.

``` python
fu.whatinside
```

    <function fastdebug.utils.whatinside(mo, dun: bool = False, func: bool = False, clas: bool = False, bltin: bool = False, lib: bool = False, cal: bool = False)>

But if you want to make sense of how its source code works, then simply
run `whatinside??` to read the source may not be sufficient for
beginners like me to grasp what exactly is going on inside the source
code. I need something more like `pdb` to help me dig deeper.

``` python
for l in inspect.getsource(fu.whatinside).split('\n'):
    print(l)
```

    def whatinside(mo, # module, e.g., `import fastcore.all as fa`, use `fa` here
                   dun:bool=False, # print all items in __all__
                   func:bool=False, # print all user defined functions
                   clas:bool=False, # print all class objects
                   bltin:bool=False, # print all builtin funcs or methods
                   lib:bool=False, # print all the modules of the library it belongs to
                   cal:bool=False # print all callables
                 ): 
        'Check what inside a module: `__all__`, functions, classes, builtins, and callables'
        dun_all = len(mo.__all__) if hasattr(mo, "__all__") else 0
        funcs = inspect.getmembers(mo, inspect.isfunction)
        classes = inspect.getmembers(mo, inspect.isclass)
        builtins = inspect.getmembers(mo, inspect.isbuiltin)
        callables = inspect.getmembers(mo, callable)
        pkgpath = os.path.dirname(mo.__file__)
        print(f"{mo.__name__} has: \n{dun_all} items in its __all__, and \n{len(funcs)} user defined functions, \n{len(classes)} classes or class objects, \n{len(builtins)} builtin funcs and methods, and\n{len(callables)} callables.\n")  
        if hasattr(mo, "__all__") and dun: pprint(mo.__all__)
        if func: 
            print(f'The user defined functions are:')
            pprint([i[0] for i in funcs])
        if clas: 
            print(f'The class objects are:')
            pprint([i[0] for i in classes])
        if bltin: 
            print(f'The builtin functions or methods are:')
            pprint([i[0] for i in builtins])
        if cal: 
            print(f'The callables are: ')
            pprint([i[0] for i in callables])
        if lib: 
            modules = [name for _, name, _ in pkgutil.iter_modules([pkgpath])]
            print(f'The library has {len(modules)} modules')
            pprint(modules)

I have always wanted to explore the wonderful fastai libraries (I am
starting with fastcore). I like to learn the fastai coding style,
exploratory coding approach and of course all the knowledge Jeremy
distilled in the fastai libraries. Even though every fastai function or
class is quite short, but for a novice like me every library looks
massive. To really make sense of what each line does is certainly a
daunting task. So, is it possible to explore the libraries efficiently
and joyfully? Any nice tools can help me explore and even document my
learnings along the way?

Below are the tools I have tried and their features I like

pdbpp or pdb++ It’s a nicer version of pdb which have all the commands
needed for explore the source code from pdb

features I like:  
\> sticky mode to display source code nicely during exploration

> easy copy and paste of expressions for evaluation

> autocompletion when writing expressions

features I hope it to have:  
\> to work with jupyter notebook (although it seems working with colab),
not just in terminal

> Easy ways to document findings during source code exploration (meaning
> they usually are not easy to read even if they are still there when
> you come back to it)

ipdb or pdb in jupyter

Features I like: \> They work with jupyter and we can add code
expressions freely

cons: \> 1. copy and paste is a pain, no autocompletion

> 2.  display of source code is not as nice as pdbpp

> 3.  can’t document exploration

Jupyterlab’s visual debugger

is a nice exploration tool to have and it is like pdbpp for jupyter, it
has all the essential features ready to use.

The problem is that it is clunky in write and run code expressions and I
can’t document exploration.

Another useful tool is `%debug` is a nice way to use pdb to debug on
error (not for exploration and learning source code), which I should use
more often.

So, I am thinking why not write a little debugging tool myself, and
maybe I don’t even need fancy inspect.py and pdb.py for it. But I would
not dare to try to write a library of my own without being enpowered by
the amazing [nbdev](https://nbdev.fast.ai/) and the wonderful team
behind it. They make writing your own library unbelievably easy and
joyful.

So, Here I am, just finished the second version of this library, now I
want to see whether this tool can help me make the process of exploring
source code a joyful experience.

## What’s the minimum I can do to improve `ipdb` for my own use?

I will use `ipdb` as a pure exploration tool and I want to make it easy
to use in the following ways:

1.  I can easily print the source code so that I would know where to
    insert breakpoints

2.  once the breakpoints are determined, I want to automatically insert
    `ipdb.set_trace()` to the srclines

3.  then I can just run on example codes and ipdb window will
    automatically open for me to explore from where the breakpoints at

So, how can I explore the example below using the tool I described
above?

``` python
whatinside(fu)
```

    fastdebug.utils has: 
    3 items in its __all__, and 
    8 user defined functions, 
    0 classes or class objects, 
    0 builtin funcs and methods, and
    8 callables.

``` python
from fastdebug.core import *
```

``` python
# fdb = Fastdb(whatinside)
```

``` python
# fdb.print(20,1)
```

    def whatinside(mo, # module, e.g., `import fastcore.all as fa`, use `fa` here=============(0)       
                   dun:bool=False, # print all items in __all__===============================(1)       
                   func:bool=False, # print all user defined functions========================(2)       
                   clas:bool=False, # print all class objects=================================(3)       
                   bltin:bool=False, # print all builtin funcs or methods=====================(4)       
                   lib:bool=False, # print all the modules of the library it belongs to=======(5)       
                   cal:bool=False # print all callables=======================================(6)       
                 ): ==========================================================================(7)       
        'Check what inside a module: `__all__`, functions, classes, builtins, and callables'==(8)       
        dun_all = len(mo.__all__) if hasattr(mo, "__all__") else 0============================(9)       
        funcs = inspect.getmembers(mo, inspect.isfunction)====================================(10)      
        classes = inspect.getmembers(mo, inspect.isclass)=====================================(11)      
        builtins = inspect.getmembers(mo, inspect.isbuiltin)==================================(12)      
        callables = inspect.getmembers(mo, callable)==========================================(13)      
        pkgpath = os.path.dirname(mo.__file__)================================================(14)      
        print(f"{mo.__name__} has: \n{dun_all} items in its __all__, and \n{len(funcs)} user defined functions, \n{len(classes)} classes or class objects, \n{len(builtins)} builtin funcs and methods, and\n{len(callables)} callables.\n")  (15)
        if hasattr(mo, "__all__") and dun: pprint(mo.__all__)=================================(16)      
        if func: =============================================================================(17)      
            print(f'The user defined functions are:')=========================================(18)      
            pprint([i[0] for i in funcs])=====================================================(19)      
                                                                                                                                         part No.1 out of 2 parts

``` python
fu.whatinside?
```

``` python
# fdb.explore(9, "try this line") # it will set a breakpoint at srcline 9
fu.whatinside(fu) # it will open ipdb on srcline 9
whatinside(fu)
```

                 ):                                                                                                                                         (7)
        'Check what inside a module: `__all__`, functions, classes, builtins, and callables'                                                                (8)
        dun_all = len(mo.__all__) if hasattr(mo, "__all__") else 0==========================================================================================(9)
                                                                                                                                                    try this line
        funcs = inspect.getmembers(mo, inspect.isfunction)                                                                                                  (10)
        classes = inspect.getmembers(mo, inspect.isclass)                                                                                                   (11)
    print selected srcline with expands above----------
    exec on dbsrc above--------------------------------
    <function save_history at 0x105c20af0>
    *** SyntaxError: EOF while scanning triple-quoted string literal
    *** SyntaxError: invalid syntax
    *** SyntaxError: unmatched ')'
    *** SyntaxError: invalid syntax
    *** SyntaxError: EOF while scanning triple-quoted string literal
    *** IndentationError: expected an indented block
    *** AttributeError: module 'pdb' has no attribute 'Color'
    *** AttributeError: module 'pdb' has no attribute 'Color'
    *** AttributeError: module 'pdb' has no attribute 'Color'
    > <string>(11)whatinside()

    ipdb> u
    > /var/folders/gz/ch3n2mp51m9386sytqf97s6w0000gn/T/ipykernel_98500/3846059219.py(2)<cell line: 2>()
          1 fdb.explore(9, "try this line") # it will set a breakpoint at srcline 9
    ----> 2 fu.whatinside(fu) # it will open ipdb on srcline 9
          3 whatinside(fu)

    ipdb> n
    fastdebug.utils has: 
    3 items in its __all__, and 
    9 user defined functions, 
    0 classes or class objects, 
    0 builtin funcs and methods, and
    9 callables.

    --Return--
    None
    > /var/folders/gz/ch3n2mp51m9386sytqf97s6w0000gn/T/ipykernel_98500/3846059219.py(2)<cell line: 2>()
          1 fdb.explore(9, "try this line") # it will set a breakpoint at srcline 9
    ----> 2 fu.whatinside(fu) # it will open ipdb on srcline 9
          3 whatinside(fu)

    ipdb> next
        [... skipped 1 hidden frame]

    > /Users/Natsume/mambaforge/lib/python3.9/site-packages/IPython/core/interactiveshell.py(3401)run_code()
       3400                 # Reset our crash handler in place
    -> 3401                 sys.excepthook = old_excepthook
       3402         except SystemExit as e:

    ipdb> n
        [... skipped 1 hidden frame]

    > /Users/Natsume/mambaforge/lib/python3.9/site-packages/IPython/core/interactiveshell.py(3422)run_code()
       3421         else:
    -> 3422             outflag = False
       3423         return outflag

    ipdb> next
        [... skipped 1 hidden frame]

    > /Users/Natsume/mambaforge/lib/python3.9/site-packages/IPython/core/interactiveshell.py(3423)run_code()
       3422             outflag = False
    -> 3423         return outflag
       3424 

    ipdb> r
        [... skipped 1 hidden frame]

    Internal StopIteration: False
    > /Users/Natsume/mambaforge/lib/python3.9/site-packages/IPython/core/interactiveshell.py(3338)run_ast_nodes()
       3337                     asy = compare(code)
    -> 3338                 if await self.run_code(code, result, async_=asy):
       3339                     return True

    ipdb> c
    fastdebug.utils has: 
    3 items in its __all__, and 
    9 user defined functions, 
    0 classes or class objects, 
    0 builtin funcs and methods, and
    9 callables.

## How to use `fastdebug`?

In this section, I will show you how I would like to explore fastai libs
with this tool. As a simple demo, I will explore my own `wahtinside`
instead. From now on, I will pretend to know nothing about this
function.

If you prefers a more real world example, I have
[`fastcore.meta.FixSigMeta`](https://fastcore.fast.ai/meta.html#fixsigmeta)
[ready](./FixSigMeta.ipynb) for you.

If you find anything confusing or bug-like, please inform me at in this
forum [post](https://forums.fast.ai/t/hidden-docs-of-fastcore/98455).

I would like to do is to read the source code, but I would like to have
each line indiced so that I can specify exactly which line to dig into
later.

### Step 0: get the globals of the source code before exploration

``` python
# import fastdebug.utils as fu
```

We are exploring
[`whatinside`](https://EmbraceLife.github.io/fastdebug/utils.html#whatinside),
so we need to have the env (see `g` below) where it is defined for
[`Fastdb`](https://EmbraceLife.github.io/fastdebug/core-copy1.html#fastdb)
to use.

``` python
test_eq(whatinside is fu.whatinside, True)
test_eq(whatinside is whatinside.__globals__['whatinside'], True)
test_eq(fu.whatinside is whatinside.__globals__['whatinside'], True)
```

``` python
# import fastdebug
# fastdebug

# exec("import " + whatinside.__module__.split('.')[0])

# fastdebug

# exec("import fastdebug")

# fastdebug

# eval(whatinside.__module__ + "." + whatinside.__name__)
```

### Step 1: display the source code with idx

``` python
from fastdebug.core import *
```

``` python
# both whatinside and fu.whatinside are the same here, don't matter which
# fdb = Fastdb(whatinside) # g is refactored inside Fastdb
fdb = Fastdb(fu.whatinside)
```

``` python
fdb.print()
```

    def whatinside(mo, # module, e.g., `import fastcore.all as fa`, use `fa` here=============(0)       
                   dun:bool=False, # print all items in __all__===============================(1)       
                   func:bool=False, # print all user defined functions========================(2)       
                   clas:bool=False, # print all class objects=================================(3)       
                   bltin:bool=False, # print all builtin funcs or methods=====================(4)       
                   lib:bool=False, # print all the modules of the library it belongs to=======(5)       
                   cal:bool=False # print all callables=======================================(6)       
                 ): ==========================================================================(7)       
        'Check what inside a module: `__all__`, functions, classes, builtins, and callables'==(8)       
        dun_all = len(mo.__all__) if hasattr(mo, "__all__") else 0============================(9)       
        funcs = inspect.getmembers(mo, inspect.isfunction)====================================(10)      
        classes = inspect.getmembers(mo, inspect.isclass)=====================================(11)      
        builtins = inspect.getmembers(mo, inspect.isbuiltin)==================================(12)      
        callables = inspect.getmembers(mo, callable)==========================================(13)      
        pkgpath = os.path.dirname(mo.__file__)================================================(14)      
        print(f"{mo.__name__} has: \n{dun_all} items in its __all__, and \n{len(funcs)} user defined functions, \n{len(classes)} classes or class objects, \n{len(builtins)} builtin funcs and methods, and\n{len(callables)} callables.\n")  (15)
        if hasattr(mo, "__all__") and dun: pprint(mo.__all__)=================================(16)      
        if func: =============================================================================(17)      
            print(f'The user defined functions are:')=========================================(18)      
            pprint([i[0] for i in funcs])=====================================================(19)      
        if clas: =============================================================================(20)      
            print(f'The class objects are:')==================================================(21)      
            pprint([i[0] for i in classes])===================================================(22)      
        if bltin: ============================================================================(23)      
            print(f'The builtin functions or methods are:')===================================(24)      
            pprint([i[0] for i in builtins])==================================================(25)      
        if cal: ==============================================================================(26)      
            print(f'The callables are: ')=====================================================(27)      
            pprint([i[0] for i in callables])=================================================(28)      
        if lib: ==============================================================================(29)      
            modules = [name for _, name, _ in pkgutil.iter_modules([pkgpath])]================(30)      
            print(f'The library has {len(modules)} modules')==================================(31)      
            pprint(modules)===================================================================(32)      
                                                                                                                                                            (33)

### Step 2: exploring, evaluating, and commenting as I like

I usually write a question for exploration as comment, and after
exploration I will replace it with a better summary.

``` python
fdb.dbprint(9, "count num in __all__", showdbsrc=True)
fdb.print(maxlines=15, part=1)
```

                 ):                                                                                                                                         (7)
        'Check what inside a module: `__all__`, functions, classes, builtins, and callables'                                                                (8)
        dun_all = len(mo.__all__) if hasattr(mo, "__all__") else 0==========================================================================================(9)
                                                                                                                                             count num in __all__
        funcs = inspect.getmembers(mo, inspect.isfunction)                                                                                                  (10)
        classes = inspect.getmembers(mo, inspect.isclass)                                                                                                   (11)
    print selected srcline with expands above----------
    showdbsrc=Start------------------------------------
    def whatinside(mo, # module, e.g., `import fastcore.all as fa`, use `fa` here---------------------------------------------------------------------------(0)
                   dun:bool=False, # print all items in __all__---------------------------------------------------------------------------------------------(1)
                   func:bool=False, # print all user defined functions--------------------------------------------------------------------------------------(2)
                   clas:bool=False, # print all class objects-----------------------------------------------------------------------------------------------(3)
                   bltin:bool=False, # print all builtin funcs or methods-----------------------------------------------------------------------------------(4)
                   lib:bool=False, # print all the modules of the library it belongs to---------------------------------------------------------------------(5)
                   cal:bool=False # print all callables-----------------------------------------------------------------------------------------------------(6)
                 ): ----------------------------------------------------------------------------------------------------------------------------------------(7)
        'Check what inside a module: `__all__`, functions, classes, builtins, and callables'----------------------------------------------------------------(8)
        dun_all = len(mo.__all__) if hasattr(mo, "__all__") else 0------------------------------------------------------------------------------------------(9)
        funcs = inspect.getmembers(mo, inspect.isfunction)--------------------------------------------------------------------------------------------------(10)
        classes = inspect.getmembers(mo, inspect.isclass)---------------------------------------------------------------------------------------------------(11)
        builtins = inspect.getmembers(mo, inspect.isbuiltin)------------------------------------------------------------------------------------------------(12)
        callables = inspect.getmembers(mo, callable)--------------------------------------------------------------------------------------------------------(13)
        pkgpath = os.path.dirname(mo.__file__)--------------------------------------------------------------------------------------------------------------(14)
        print(f"{mo.__name__} has: \n{dun_all} items in its __all__, and \n{len(funcs)} user defined functions, \n{len(classes)} classes or class objects, \n{len(builtins)} builtin funcs and methods, and\n{len(callables)} callables.\n")  (15)
        if hasattr(mo, "__all__") and dun: pprint(mo.__all__)-----------------------------------------------------------------------------------------------(16)
        if func: -------------------------------------------------------------------------------------------------------------------------------------------(17)
            print(f'The user defined functions are:')-------------------------------------------------------------------------------------------------------(18)
            pprint([i[0] for i in funcs])-------------------------------------------------------------------------------------------------------------------(19)
        if clas: -------------------------------------------------------------------------------------------------------------------------------------------(20)
            print(f'The class objects are:')----------------------------------------------------------------------------------------------------------------(21)
            pprint([i[0] for i in classes])-----------------------------------------------------------------------------------------------------------------(22)
        if bltin: ------------------------------------------------------------------------------------------------------------------------------------------(23)
            print(f'The builtin functions or methods are:')-------------------------------------------------------------------------------------------------(24)
            pprint([i[0] for i in builtins])----------------------------------------------------------------------------------------------------------------(25)
        if cal: --------------------------------------------------------------------------------------------------------------------------------------------(26)
            print(f'The callables are: ')-------------------------------------------------------------------------------------------------------------------(27)
            pprint([i[0] for i in callables])---------------------------------------------------------------------------------------------------------------(28)
        if lib: --------------------------------------------------------------------------------------------------------------------------------------------(29)
            modules = [name for _, name, _ in pkgutil.iter_modules([pkgpath])]------------------------------------------------------------------------------(30)
            print(f'The library has {len(modules)} modules')------------------------------------------------------------------------------------------------(31)
            pprint(modules)---------------------------------------------------------------------------------------------------------------------------------(32)
    locals() keys: ['self', 'dbcode', 'cmt', 'expand', 'showdbsrc', 'codes', 'src', 'dbsrc', 'indent', 'lst', 'newlst', 'srclines', 'idx', 'l', 'totallen', 'lenidx', 'dblst', 'lenl']
    before update to exec, self.orisrc.__name__: whatinside is self.outenv['whatinside']: True
    exec on dbsrc above--------------------------------
    locals() keys: ['self', 'dbcode', 'cmt', 'expand', 'showdbsrc', 'codes', 'src', 'dbsrc', 'indent', 'lst', 'newlst', 'srclines', 'idx', 'l', 'totallen', 'lenidx', 'dblst', 'lenl', 'names', 'whatinside']
    self.orisrc.__name__: whatinside
    locals()['whatinside']: <function whatinside at 0x10785e8b0>
    after exec and before self.outenv update, self.outenv['whatinside'] is locals()['whatinside']: False
    after exec and before self.outenv update, self.orisrc.__name__: whatinside is self.outenv['whatinside']: True
    after exec and before self.outenv update, self.orisrc.__name__: whatinside is locals()['whatinside']: False
    after update self.outenv, self.orisrc.__name__: whatinside is self.outenv['whatinside']: False
    after update self.outenv, self.orisrc.__name__: whatinside is fastdebug.utils.whatinside: False
    after update self.outenv, self.outenv['whatinside'] is fastdebug.utils.whatinside: True
    Therefore, to use dbsrc we must use self.outenv['whatinside'], or fastdebug.utils.whatinside
    showdbsrc=End--------------------------------------
    def whatinside(mo, # module, e.g., `import fastcore.all as fa`, use `fa` here=============(0)       
                   dun:bool=False, # print all items in __all__===============================(1)       
                   func:bool=False, # print all user defined functions========================(2)       
                   clas:bool=False, # print all class objects=================================(3)       
                   bltin:bool=False, # print all builtin funcs or methods=====================(4)       
                   lib:bool=False, # print all the modules of the library it belongs to=======(5)       
                   cal:bool=False # print all callables=======================================(6)       
                 ): ==========================================================================(7)       
        'Check what inside a module: `__all__`, functions, classes, builtins, and callables'==(8)       
        dun_all = len(mo.__all__) if hasattr(mo, "__all__") else 0============================(9) # count num in __all__
        funcs = inspect.getmembers(mo, inspect.isfunction)====================================(10)      
        classes = inspect.getmembers(mo, inspect.isclass)=====================================(11)      
        builtins = inspect.getmembers(mo, inspect.isbuiltin)==================================(12)      
        callables = inspect.getmembers(mo, callable)==========================================(13)      
        pkgpath = os.path.dirname(mo.__file__)================================================(14)      
                                                                                                                                         part No.1 out of 2 parts

line 9 looks easy enough, but line 10 is unfamiliar to me, so I would
like to explore and dig around it.

Here are a list of things I want to ask about this line of code

1.  what is `mo`? (easy)
2.  what does `inspect.isfunction` do?
3.  what does `inspect.getmembers` do?
4.  what does `funcs = inspect.getmembers(mo, inspect.isfunction)` give
    me?

I want to find out about them without searching online, nor using
running separate cells to be deleted later.

``` python
dbsrc = fdb.dbprint(10, "get all funcs of a module", "mo", "inspect.getdoc(inspect.isfunction)", \
            "inspect.getdoc(inspect.getmembers)", "funcs = inspect.getmembers(mo, inspect.isfunction)")
fu.whatinside(fm)
```

        'Check what inside a module: `__all__`, functions, classes, builtins, and callables'                                                                (8)
        dun_all = len(mo.__all__) if hasattr(mo, "__all__") else 0                                                                                          (9)
        funcs = inspect.getmembers(mo, inspect.isfunction)==================================================================================================(10)
                                                                                                                                        get all funcs of a module
        classes = inspect.getmembers(mo, inspect.isclass)                                                                                                   (11)
        builtins = inspect.getmembers(mo, inspect.isbuiltin)                                                                                                (12)
    print selected srcline with expands above----------
    exec on dbsrc above--------------------------------


                                                mo => mo : <module 'fastcore.meta' from '/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore/meta.py'>


    inspect.getdoc(inspect.isfunction) => inspect.getdoc(inspect.isfunction) : Return true if the object is a user-defined function.

    Function objects provide these attributes:
        __doc__         documentation string
        __name__        name with which this function was defined
        __code__        code object containing compiled function bytecode
        __defaults__    tuple of any default values for arguments
        __globals__     global namespace in which this function was defined
        __annotations__ dict of parameter annotations
        __kwdefaults__  dict of keyword only parameters with defaults


    inspect.getdoc(inspect.getmembers) => inspect.getdoc(inspect.getmembers) : Return all members of an object as (name, value) pairs sorted by name.
    Optionally, only return members that satisfy a given predicate.


    funcs = inspect.getmembers(mo, inspect.isfunction) => funcs: [('_funcs_kwargs', <function _funcs_kwargs at 0x1077f2ee0>), ('_mk_param', <function _mk_param at 0x1077f2c10>), ('_rm_self', <function _rm_self at 0x1077f2790>), ('all_equal', <function all_equal at 0x1077f00d0>), ('anno_dict', <function anno_dict at 0x1077f2b80>), ('any_is_instance', <function any_is_instance at 0x1077f0280>), ('array_equal', <function array_equal at 0x1077f03a0>), ('contextmanager', <function contextmanager at 0x104a9cc10>), ('copy', <function copy at 0x104d2b790>), ('delegates', <function delegates at 0x1077f2dc0>), ('df_equal', <function df_equal at 0x1077f0430>), ('empty2none', <function empty2none at 0x1077f2820>), ('equals', <function equals at 0x1077f04c0>), ('funcs_kwargs', <function funcs_kwargs at 0x1077f2f70>), ('in_colab', <function in_colab at 0x1077f0670>), ('in_ipython', <function in_ipython at 0x1077f05e0>), ('in_jupyter', <function in_jupyter at 0x1077f0700>), ('in_notebook', <function in_notebook at 0x1077f0790>), ('ipython_shell', <function ipython_shell at 0x1077f0550>), ('is_close', <function is_close at 0x1077f0c10>), ('is_coll', <function is_coll at 0x1077f0040>), ('is_iter', <function is_iter at 0x1077eef70>), ('isinstance_str', <function isinstance_str at 0x1077f0310>), ('method', <function method at 0x1077f2e50>), ('nequals', <function nequals at 0x1077f09d0>), ('noop', <function noop at 0x1077f0160>), ('noops', <function noops at 0x1077f01f0>), ('remove_prefix', <function remove_prefix at 0x1077f0820>), ('remove_suffix', <function remove_suffix at 0x1077f08b0>), ('test', <function test at 0x1077f0940>), ('test_close', <function test_close at 0x1077f0ca0>), ('test_eq', <function test_eq at 0x1077f0a60>), ('test_eq_type', <function test_eq_type at 0x1077f0af0>), ('test_fail', <function test_fail at 0x1077eedc0>), ('test_fig_exists', <function test_fig_exists at 0x1077f0f70>), ('test_is', <function test_is at 0x1077f0d30>), ('test_ne', <function test_ne at 0x1077f0b80>), ('test_shuffled', <function test_shuffled at 0x1077f0dc0>), ('test_sig', <function test_sig at 0x1077f23a0>), ('test_stdout', <function test_stdout at 0x1077f0e50>), ('test_warns', <function test_warns at 0x1077f0ee0>), ('use_kwargs', <function use_kwargs at 0x1077f2d30>), ('use_kwargs_dict', <function use_kwargs_dict at 0x1077f2ca0>)]
    fastcore.meta has: 
    13 items in its __all__, and 
    43 user defined functions, 
    19 classes or class objects, 
    2 builtin funcs and methods, and
    74 callables.

Intesting and unexpected: something interesting and unexpected things
discovered above for myself is the attributes of a function

If you want to zoom in the source code, you could cut the source into
parts and exam each part individually.

``` python
fdb.print(maxlines=15, part=1)
```

    def whatinside(mo, # module, e.g., `import fastcore.all as fa`, use `fa` here=============(0)       
                   dun:bool=False, # print all items in __all__===============================(1)       
                   func:bool=False, # print all user defined functions========================(2)       
                   clas:bool=False, # print all class objects=================================(3)       
                   bltin:bool=False, # print all builtin funcs or methods=====================(4)       
                   lib:bool=False, # print all the modules of the library it belongs to=======(5)       
                   cal:bool=False # print all callables=======================================(6)       
                 ): ==========================================================================(7)       
        'Check what inside a module: `__all__`, functions, classes, builtins, and callables'==(8)       
        dun_all = len(mo.__all__) if hasattr(mo, "__all__") else 0============================(9) # count num in __all__
        funcs = inspect.getmembers(mo, inspect.isfunction)====================================(10) # get all funcs of a module
        classes = inspect.getmembers(mo, inspect.isclass)=====================================(11)      
        builtins = inspect.getmembers(mo, inspect.isbuiltin)==================================(12)      
        callables = inspect.getmembers(mo, callable)==========================================(13)      
        pkgpath = os.path.dirname(mo.__file__)================================================(14)      
                                                                                                                                         part No.1 out of 2 parts

You may find the `funcs` difficult to read, if so you can write a block
of codes to print out the `funcs` nicely.

``` python
dbsrc = fdb.dbprint(11, "get all classes from the module", \
"clas = inspect.getmembers(mo, inspect.isclass)\\n\
for c in clas:\\n\
    print(c)")
fu.whatinside(fm)
fdb.print(maxlines=15, part=1)
```

        dun_all = len(mo.__all__) if hasattr(mo, "__all__") else 0                                                                                          (9)
        funcs = inspect.getmembers(mo, inspect.isfunction)                                                                                                  (10)
        classes = inspect.getmembers(mo, inspect.isclass)===================================================================================================(11)
                                                                                                                                  get all classes from the module
        builtins = inspect.getmembers(mo, inspect.isbuiltin)                                                                                                (12)
        callables = inspect.getmembers(mo, callable)                                                                                                        (13)
    print selected srcline with expands above----------
    exec on dbsrc above--------------------------------


    clas = inspect.getmembers(mo, inspect.isclass)
    for c in clas:
        print(c)                                                                                   
                                                                                                                                      Running your code block => 
    The code block printout => : 
    ('AutoInit', <class 'fastcore.meta.AutoInit'>)
    ('BuiltinFunctionType', <class 'builtin_function_or_method'>)
    ('BuiltinMethodType', <class 'builtin_function_or_method'>)
    ('BypassNewMeta', <class 'fastcore.meta.BypassNewMeta'>)
    ('ExceptionExpected', <class 'fastcore.test.ExceptionExpected'>)
    ('FixSigMeta', <class 'fastcore.meta.FixSigMeta'>)
    ('FunctionType', <class 'function'>)
    ('MethodDescriptorType', <class 'method_descriptor'>)
    ('MethodType', <class 'method'>)
    ('MethodWrapperType', <class 'method-wrapper'>)
    ('NewChkMeta', <class 'fastcore.meta.NewChkMeta'>)
    ('NoneType', <class 'NoneType'>)
    ('Path', <class 'pathlib.Path'>)
    ('PrePostInitMeta', <class 'fastcore.meta.PrePostInitMeta'>)
    ('SimpleNamespace', <class 'types.SimpleNamespace'>)
    ('WrapperDescriptorType', <class 'wrapper_descriptor'>)
    ('attrgetter', <class 'operator.attrgetter'>)
    ('itemgetter', <class 'operator.itemgetter'>)
    ('partial', <class 'functools.partial'>)
    fastcore.meta has: 
    13 items in its __all__, and 
    43 user defined functions, 
    19 classes or class objects, 
    2 builtin funcs and methods, and
    74 callables.

    def whatinside(mo, # module, e.g., `import fastcore.all as fa`, use `fa` here=============(0)       
                   dun:bool=False, # print all items in __all__===============================(1)       
                   func:bool=False, # print all user defined functions========================(2)       
                   clas:bool=False, # print all class objects=================================(3)       
                   bltin:bool=False, # print all builtin funcs or methods=====================(4)       
                   lib:bool=False, # print all the modules of the library it belongs to=======(5)       
                   cal:bool=False # print all callables=======================================(6)       
                 ): ==========================================================================(7)       
        'Check what inside a module: `__all__`, functions, classes, builtins, and callables'==(8)       
        dun_all = len(mo.__all__) if hasattr(mo, "__all__") else 0============================(9) # count num in __all__
        funcs = inspect.getmembers(mo, inspect.isfunction)====================================(10) # get all funcs of a module
        classes = inspect.getmembers(mo, inspect.isclass)=====================================(11) # get all classes from the module
        builtins = inspect.getmembers(mo, inspect.isbuiltin)==================================(12)      
        callables = inspect.getmembers(mo, callable)==========================================(13)      
        pkgpath = os.path.dirname(mo.__file__)================================================(14)      
                                                                                                                                         part No.1 out of 2 parts

Keep reading, I want to see what exactly does line 14 do?

``` python
dbsrc = fdb.dbprint(14, "get the file path of the module", "mo.__file__", "inspect.getdoc(os.path.dirname)", "pkgpath = os.path.dirname(mo.__file__)")
fu.whatinside(fm)
fdb.print(maxlines=10, part=2)
```

        builtins = inspect.getmembers(mo, inspect.isbuiltin)                                                                                                (12)
        callables = inspect.getmembers(mo, callable)                                                                                                        (13)
        pkgpath = os.path.dirname(mo.__file__)==============================================================================================================(14)
                                                                                                                                  get the file path of the module
        print(f"{mo.__name__} has: \n{dun_all} items in its __all__, and \n{len(funcs)} user defined functions, \n{len(classes)} classes or class objects, \n{len(builtins)} builtin funcs and methods, and\n{len(callables)} callables.\n")  (15)
        if hasattr(mo, "__all__") and dun: pprint(mo.__all__)                                                                                               (16)
    print selected srcline with expands above----------
    exec on dbsrc above--------------------------------


                                                              mo.__file__ => mo.__file__ : /Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore/meta.py


                                               inspect.getdoc(os.path.dirname) => inspect.getdoc(os.path.dirname) : Returns the directory component of a pathname


                                                pkgpath = os.path.dirname(mo.__file__) => pkgpath: /Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore
    fastcore.meta has: 
    13 items in its __all__, and 
    43 user defined functions, 
    19 classes or class objects, 
    2 builtin funcs and methods, and
    74 callables.

        funcs = inspect.getmembers(mo, inspect.isfunction)====================================(10) # get all funcs of a module
        classes = inspect.getmembers(mo, inspect.isclass)=====================================(11) # get all classes from the module
        builtins = inspect.getmembers(mo, inspect.isbuiltin)==================================(12)      
        callables = inspect.getmembers(mo, callable)==========================================(13)      
        pkgpath = os.path.dirname(mo.__file__)================================================(14) # get the file path of the module
        print(f"{mo.__name__} has: \n{dun_all} items in its __all__, and \n{len(funcs)} user defined functions, \n{len(classes)} classes or class objects, \n{len(builtins)} builtin funcs and methods, and\n{len(callables)} callables.\n")  (15)
        if hasattr(mo, "__all__") and dun: pprint(mo.__all__)=================================(16)      
        if func: =============================================================================(17)      
            print(f'The user defined functions are:')=========================================(18)      
            pprint([i[0] for i in funcs])=====================================================(19)      
                                                                                                                                         part No.2 out of 2 parts

Finally, I want to dig into line 30 with a different example to trigger
line 30.

``` python
fdb.print(maxlines=20, part=2)
```

        if clas: =============================================================================(20)      
            print(f'The class objects are:')==================================================(21)      
            pprint([i[0] for i in classes])===================================================(22)      
        if bltin: ============================================================================(23)      
            print(f'The builtin functions or methods are:')===================================(24)      
            pprint([i[0] for i in builtins])==================================================(25)      
        if cal: ==============================================================================(26)      
            print(f'The callables are: ')=====================================================(27)      
            pprint([i[0] for i in callables])=================================================(28)      
        if lib: ==============================================================================(29)      
            modules = [name for _, name, _ in pkgutil.iter_modules([pkgpath])]================(30)      
            print(f'The library has {len(modules)} modules')==================================(31)      
            pprint(modules)===================================================================(32)      
                                                                                                                                                            (33)
                                                                                                                                         part No.2 out of 2 parts

``` python
dbsrc = fdb.dbprint(30, "get names of all modules of a lib", "pkgpath", "inspect.getdoc(pkgutil.iter_modules)", \
"for a, b, c in pkgutil.iter_modules([pkgpath]):\\n\
    print(f'{a} ; {b}; {c}')", showdbsrc=True)
fu.whatinside(fm, lib=True)
fdb.print(maxlines=20, part=2)
```

            pprint([i[0] for i in callables])                                                                                                               (28)
        if lib:                                                                                                                                             (29)
            modules = [name for _, name, _ in pkgutil.iter_modules([pkgpath])]==============================================================================(30)
                                                                                                                                get names of all modules of a lib
            print(f'The library has {len(modules)} modules')                                                                                                (31)
            pprint(modules)                                                                                                                                 (32)
    print selected srcline with expands above----------
    showdbsrc=Start------------------------------------
    def whatinside(mo, # module, e.g., `import fastcore.all as fa`, use `fa` here---------------------------------------------------------------------------(0)
                   dun:bool=False, # print all items in __all__---------------------------------------------------------------------------------------------(1)
                   func:bool=False, # print all user defined functions--------------------------------------------------------------------------------------(2)
                   clas:bool=False, # print all class objects-----------------------------------------------------------------------------------------------(3)
                   bltin:bool=False, # print all builtin funcs or methods-----------------------------------------------------------------------------------(4)
                   lib:bool=False, # print all the modules of the library it belongs to---------------------------------------------------------------------(5)
                   cal:bool=False # print all callables-----------------------------------------------------------------------------------------------------(6)
                 ): ----------------------------------------------------------------------------------------------------------------------------------------(7)
        'Check what inside a module: `__all__`, functions, classes, builtins, and callables'----------------------------------------------------------------(8)
        dun_all = len(mo.__all__) if hasattr(mo, "__all__") else 0------------------------------------------------------------------------------------------(9)
        funcs = inspect.getmembers(mo, inspect.isfunction)--------------------------------------------------------------------------------------------------(10)
        classes = inspect.getmembers(mo, inspect.isclass)---------------------------------------------------------------------------------------------------(11)
        builtins = inspect.getmembers(mo, inspect.isbuiltin)------------------------------------------------------------------------------------------------(12)
        callables = inspect.getmembers(mo, callable)--------------------------------------------------------------------------------------------------------(13)
        pkgpath = os.path.dirname(mo.__file__)--------------------------------------------------------------------------------------------------------------(14)
        print(f"{mo.__name__} has: \n{dun_all} items in its __all__, and \n{len(funcs)} user defined functions, \n{len(classes)} classes or class objects, \n{len(builtins)} builtin funcs and methods, and\n{len(callables)} callables.\n")  (15)
        if hasattr(mo, "__all__") and dun: pprint(mo.__all__)-----------------------------------------------------------------------------------------------(16)
        if func: -------------------------------------------------------------------------------------------------------------------------------------------(17)
            print(f'The user defined functions are:')-------------------------------------------------------------------------------------------------------(18)
            pprint([i[0] for i in funcs])-------------------------------------------------------------------------------------------------------------------(19)
        if clas: -------------------------------------------------------------------------------------------------------------------------------------------(20)
            print(f'The class objects are:')----------------------------------------------------------------------------------------------------------------(21)
            pprint([i[0] for i in classes])-----------------------------------------------------------------------------------------------------------------(22)
        if bltin: ------------------------------------------------------------------------------------------------------------------------------------------(23)
            print(f'The builtin functions or methods are:')-------------------------------------------------------------------------------------------------(24)
            pprint([i[0] for i in builtins])----------------------------------------------------------------------------------------------------------------(25)
        if cal: --------------------------------------------------------------------------------------------------------------------------------------------(26)
            print(f'The callables are: ')-------------------------------------------------------------------------------------------------------------------(27)
            pprint([i[0] for i in callables])---------------------------------------------------------------------------------------------------------------(28)
        if lib: --------------------------------------------------------------------------------------------------------------------------------------------(29)
            g = locals()------------------------------------------------------------------------------------------------------------------------------------(30)
            dbprintinsert("pkgpath","inspect.getdoc(pkgutil.iter_modules)","for a, b, c in pkgutil.iter_modules([pkgpath]):\n    print(f'{a} ; {b}; {c}')",env=g)(db)
            modules = [name for _, name, _ in pkgutil.iter_modules([pkgpath])]------------------------------------------------------------------------------(32)
            print(f'The library has {len(modules)} modules')------------------------------------------------------------------------------------------------(33)
            pprint(modules)---------------------------------------------------------------------------------------------------------------------------------(34)
    locals() keys: ['self', 'dbcode', 'cmt', 'expand', 'showdbsrc', 'codes', 'src', 'dbsrc', 'indent', 'lst', 'newlst', 'i', 'srclines', 'idx', 'l', 'numindent', 'dbcodes', 'count', 'c', 'totallen', 'lenidx', 'dblst', 'lenl']
    before update to exec, self.orisrc.__name__: whatinside is self.outenv['whatinside']: False
    exec on dbsrc above--------------------------------
    locals() keys: ['self', 'dbcode', 'cmt', 'expand', 'showdbsrc', 'codes', 'src', 'dbsrc', 'indent', 'lst', 'newlst', 'i', 'srclines', 'idx', 'l', 'numindent', 'dbcodes', 'count', 'c', 'totallen', 'lenidx', 'dblst', 'lenl', 'names', 'whatinside']
    self.orisrc.__name__: whatinside
    locals()['whatinside']: <function whatinside at 0x1077beb80>
    after exec and before self.outenv update, self.outenv['whatinside'] is locals()['whatinside']: False
    after exec and before self.outenv update, self.orisrc.__name__: whatinside is self.outenv['whatinside']: False
    after exec and before self.outenv update, self.orisrc.__name__: whatinside is locals()['whatinside']: False
    after update self.outenv, self.orisrc.__name__: whatinside is self.outenv['whatinside']: False
    after update self.outenv, self.orisrc.__name__: whatinside is fastdebug.utils.whatinside: False
    after update self.outenv, self.outenv['whatinside'] is fastdebug.utils.whatinside: True
    Therefore, to use dbsrc we must use self.outenv['whatinside'], or fastdebug.utils.whatinside
    showdbsrc=End--------------------------------------
    fastcore.meta has: 
    13 items in its __all__, and 
    43 user defined functions, 
    19 classes or class objects, 
    2 builtin funcs and methods, and
    74 callables.



                                                                              pkgpath => pkgpath : /Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore


    inspect.getdoc(pkgutil.iter_modules) => inspect.getdoc(pkgutil.iter_modules) : Yields ModuleInfo for all submodules on path,
    or, if path is None, all top-level modules on sys.path.

    'path' should be either None or a list of paths to look for
    modules in.

    'prefix' is a string to output on the front of every module name
    on output.


    for a, b, c in pkgutil.iter_modules([pkgpath]):
        print(f'{a} ; {b}; {c}')                                                                                 
                                                                                                                                      Running your code block => 
    The code block printout => : 
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; _modidx; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; _nbdev; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; all; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; basics; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; dispatch; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; docments; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; docscrape; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; foundation; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; imports; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; meta; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; nb_imports; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; net; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; parallel; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; script; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; shutil; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; style; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; test; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; transform; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; utils; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; xdg; False
    FileFinder('/Users/Natsume/mambaforge/lib/python3.9/site-packages/fastcore') ; xtras; False
    The library has 21 modules
    ['_modidx',
     '_nbdev',
     'all',
     'basics',
     'dispatch',
     'docments',
     'docscrape',
     'foundation',
     'imports',
     'meta',
     'nb_imports',
     'net',
     'parallel',
     'script',
     'shutil',
     'style',
     'test',
     'transform',
     'utils',
     'xdg',
     'xtras']
        if clas: =============================================================================(20)      
            print(f'The class objects are:')==================================================(21)      
            pprint([i[0] for i in classes])===================================================(22)      
        if bltin: ============================================================================(23)      
            print(f'The builtin functions or methods are:')===================================(24)      
            pprint([i[0] for i in builtins])==================================================(25)      
        if cal: ==============================================================================(26)      
            print(f'The callables are: ')=====================================================(27)      
            pprint([i[0] for i in callables])=================================================(28)      
        if lib: ==============================================================================(29)      
            modules = [name for _, name, _ in pkgutil.iter_modules([pkgpath])]================(30) # get names of all modules of a lib
            print(f'The library has {len(modules)} modules')==================================(31)      
            pprint(modules)===================================================================(32)      
                                                                                                                                                            (33)
                                                                                                                                         part No.2 out of 2 parts

Now, let’s see the source code with all comments we made above. (After
running each cell, I can rewrite the comment to sum what I explored)

``` python
fdb.print()
```

    def whatinside(mo, # module, e.g., `import fastcore.all as fa`, use `fa` here=============(0)       
                   dun:bool=False, # print all items in __all__===============================(1)       
                   func:bool=False, # print all user defined functions========================(2)       
                   clas:bool=False, # print all class objects=================================(3)       
                   bltin:bool=False, # print all builtin funcs or methods=====================(4)       
                   lib:bool=False, # print all the modules of the library it belongs to=======(5)       
                   cal:bool=False # print all callables=======================================(6)       
                 ): ==========================================================================(7)       
        'Check what inside a module: `__all__`, functions, classes, builtins, and callables'==(8)       
        dun_all = len(mo.__all__) if hasattr(mo, "__all__") else 0============================(9) # count num in __all__
        funcs = inspect.getmembers(mo, inspect.isfunction)====================================(10) # get all funcs of a module
        classes = inspect.getmembers(mo, inspect.isclass)=====================================(11) # get all classes from the module
        builtins = inspect.getmembers(mo, inspect.isbuiltin)==================================(12)      
        callables = inspect.getmembers(mo, callable)==========================================(13)      
        pkgpath = os.path.dirname(mo.__file__)================================================(14) # get the file path of the module
        print(f"{mo.__name__} has: \n{dun_all} items in its __all__, and \n{len(funcs)} user defined functions, \n{len(classes)} classes or class objects, \n{len(builtins)} builtin funcs and methods, and\n{len(callables)} callables.\n")  (15)
        if hasattr(mo, "__all__") and dun: pprint(mo.__all__)=================================(16)      
        if func: =============================================================================(17)      
            print(f'The user defined functions are:')=========================================(18)      
            pprint([i[0] for i in funcs])=====================================================(19)      
        if clas: =============================================================================(20)      
            print(f'The class objects are:')==================================================(21)      
            pprint([i[0] for i in classes])===================================================(22)      
        if bltin: ============================================================================(23)      
            print(f'The builtin functions or methods are:')===================================(24)      
            pprint([i[0] for i in builtins])==================================================(25)      
        if cal: ==============================================================================(26)      
            print(f'The callables are: ')=====================================================(27)      
            pprint([i[0] for i in callables])=================================================(28)      
        if lib: ==============================================================================(29)      
            modules = [name for _, name, _ in pkgutil.iter_modules([pkgpath])]================(30) # get names of all modules of a lib
            print(f'The library has {len(modules)} modules')==================================(31)      
            pprint(modules)===================================================================(32)      
                                                                                                                                                            (33)

### Step 3: replace the db source with the original source code

To finish, I need to give
[`whatinside`](https://EmbraceLife.github.io/fastdebug/utils.html#whatinside)
its own untouched source code back

``` python
import inspect
```

``` python
test_eq(inspect.getsourcefile(whatinside.__globals__['whatinside']), '<string>')
test_eq(inspect.getsourcefile(fu.whatinside), '<string>')
test_eq(fu.whatinside is whatinside.__globals__['whatinside'], True)

test_eq(whatinside is whatinside.__globals__['whatinside'], False)
test_eq(whatinside is fu.whatinside, False)
test_eq(inspect.getsourcefile(whatinside), '/Users/Natsume/Documents/fastdebug/fastdebug/utils.py')
```

``` python
fdb.goback()
```

``` python
test_eq(inspect.getsourcefile(fu.whatinside), '/Users/Natsume/Documents/fastdebug/fastdebug/utils.py')
test_eq(fu.whatinside is whatinside.__globals__['whatinside'], True)
test_eq(whatinside is whatinside.__globals__['whatinside'], True)
test_eq(whatinside is fu.whatinside, True)
```

``` python
test_eq(inspect.getsourcefile(whatinside), '/Users/Natsume/Documents/fastdebug/fastdebug/utils.py')
```

To check, when run `whatinside??` we should see the actually source code
whereas the db version of
[`whatinside`](https://EmbraceLife.github.io/fastdebug/utils.html#whatinside)
does not have.

## Install

``` sh
pip install fastdebug
```

## How to use

Fill me in please! Don’t forget code examples:

``` python
1+1
```

    2
